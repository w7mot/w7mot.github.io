(function(t){var e=[];var o={init:function(o){return this.each((function(){var n=this;var a=t(n).data("cbtooltip");if(a){return}a={};a.options=typeof o!="undefined"?o:{};a.defaults=t.fn.cbtooltip.defaults;a.settings=t.extend(true,{},a.defaults,a.options);a.element=t(n);if(a.settings.useData){t.each(t.fn.cbtooltip.dataMap,(function(t,e){const o=a.element.data(e);if(typeof o!="undefined"){if(t.indexOf("classes")!==-1){a.settings[t]+=" "+o}else{a.settings[t]=o}}}))}a.element.triggerHandler("cbtooltip.init.before",[a]);if(a.element.parents('.cbTooltip,[data-hascbtooltip="true"]').length){a.settings.init=false}if(!a.settings.init){return}var p=a.settings.width==null&&a.defaults.width==null;var c=a.settings.clone!=null?a.settings.clone:true;var r=a.settings.modal!=null?a.settings.modal:a.settings.classes?a.settings.classes.indexOf("qtip-modal")!==-1:false;var d=a.settings.dialog!=null?a.settings.dialog:a.settings.classes?a.settings.classes.indexOf("qtip-dialog")!==-1:false;var u=a.settings.menu!=null?a.settings.menu:a.settings.classes?a.settings.classes.indexOf("qtip-menu")!==-1:false;var g=a.settings.simple!=null?a.settings.simple:a.settings.classes?a.settings.classes.indexOf("qtip-simple")!==-1:false;var f=a.settings.buttonHide!=null?a.settings.buttonHide:false;var b=a.settings.tooltipTarget?i(a,a.settings.tooltipTarget).length?!c&&!a.settings.keepAlive?i(a,a.settings.tooltipTarget):null:null:null;var m=b&&b.length?b.parent():null;if(r||d){u=false}else if(u){r=false;d=false;if(a.settings.width!=a.element.data("width")){a.settings.width=null}a.element.attr("aria-haspopup",true);a.element.attr("aria-expanded",false)}a.tooltiptype=r?"modal":d?"dialog":u?"menu":"tooltip";a.overlay=t('<div class="qtip-overlay" />');if(a.settings.overlayClasses){a.overlay.addClass(a.settings.overlayClasses)}a.escapeHandler=function(t){if(t.which==27){a.tooltip.qtip("api").hide()}};var h=a.settings.closeEffect!=null?a.settings.closeEffect:!(u||r||d);a.tooltip=a.element.qtip({id:a.settings.id,overwrite:true,content:{text:a.settings.tooltipTarget?i(a,a.settings.tooltipTarget).length?c?i(a,a.settings.tooltipTarget).clone(true):i(a,a.settings.tooltipTarget):a.settings.tooltip?a.settings.tooltip:null:a.settings.tooltip?a.settings.tooltip:null,title:a.settings.titleTarget?i(a,a.settings.titleTarget).length?c?i(a,a.settings.titleTarget).clone(true):i(a,a.settings.titleTarget):a.settings.title?a.settings.title:null:a.settings.title?a.settings.title:null,button:a.settings.openEvent&&a.settings.openEvent.indexOf("click")!==-1||r||d?f||u?false:a.settings.buttonClose:false},position:{container:a.settings.container?t(a.settings.container).length?t(a.settings.container):a.settings.container:false,viewport:a.settings.viewport?t(a.settings.viewport).length?t(a.settings.viewport):a.settings.viewport:t(window),my:a.settings.positionMy?a.settings.positionMy:r||d?"center":g?"bottom center":"top left",at:a.settings.positionAt?a.settings.positionAt:u?"bottom left":r||d?"center":g?"top center":"bottom right",target:a.settings.positionTarget?a.settings.positionTarget=="mouse"?"mouse":i(a,a.settings.positionTarget).length?i(a,a.settings.positionTarget):false:r||d?t(window):false,adjust:{x:a.settings.adjustX!=null?a.settings.adjustX:0,y:a.settings.adjustY!=null?a.settings.adjustY:u?5:0,scroll:a.settings.adjustScroll!=null?a.settings.adjustScroll:true,resize:a.settings.adjustResize!=null?a.settings.adjustResize:true,method:a.settings.adjustMethod?a.settings.adjustMethod:"shift flipinvert"},effect:a.settings.positionEffect!=null?a.settings.positionEffect:false},show:{ready:a.settings.openReady!=null?a.settings.openReady:d,target:a.settings.openTarget?i(a,a.settings.openTarget).length?i(a,a.settings.openTarget):false:false,event:a.settings.openEvent?a.settings.openEvent:r||d?"click":"mouseenter click",solo:a.settings.openSolo!=null?t(a.settings.openSolo).length?t(a.settings.openSolo):a.settings.openSolo=="document"?t(document):a.settings.openSolo:r?t(document):false,delay:a.settings.openDelay!=null?a.settings.openDelay:u||r||d?30:300,modal:{on:r,escape:false,blur:false},effect:a.settings.openEffect!=null?a.settings.openEffect:!(u||r||d)},hide:{target:a.settings.closeTarget?i(a,a.settings.closeTarget).length?i(a,a.settings.closeTarget):false:false,event:a.settings.closeEvent?a.settings.closeEvent:r||d?"none":"mouseleave unfocus",fixed:a.settings.closeFixed!=null?a.settings.closeFixed:u||r||d,delay:a.settings.closeDelay!=null?a.settings.closeDelay:u?200:0,distance:a.settings.closeDistance!=null?a.settings.closeDistance:false,leave:a.settings.closeLeave!=null?a.settings.closeLeave:"window",inactive:a.settings.closeInactive!=null?a.settings.closeInactive:false,effect:h},style:{width:a.settings.width!=null?a.settings.width:false,height:a.settings.height!=null?a.settings.height:false,tip:{corner:a.settings.tipHide!=null?a.settings.tipHide:!(u||r||d),width:a.settings.tipWidth!=null?a.settings.tipWidth:6,height:a.settings.tipHeight!=null?a.settings.tipHeight:6,offset:a.settings.tipOffset!=null?a.settings.tipOffset:0},classes:(a.settings.classes?a.settings.classes:"")+(g?" tooltip":" popover")+(u?" qtip-menu":"")+(g?" qtip-simple":"")+(r?" qtip-modal":"")+(d?" qtip-dialog":"")+(p?" qtip-nowidth":""),def:false},events:{render:function(e,o){if(a.element.hasClass("cbSelect")){if(a.element.siblings(".select2.select2-container--below.select2-container--open").length&&o.position.at.y==="bottom"&&o.position.my.y==="top"){o.set("position.at",o.position.at.x+" top");o.set("position.my",o.position.my.x+" bottom");o.set("position.adjust.method","shift none")}else if(a.element.siblings(".select2.select2-container--above.select2-container--open").length&&o.position.at.y==="top"&&o.position.my.y==="bottom"){o.set("position.at",o.position.at.x+" bottom");o.set("position.my",o.position.my.x+" top");o.set("position.adjust.method","shift none")}}else if(a.element.is("select:focus")&&o.position.at.y==="bottom"&&o.position.my.y==="top"){o.set("position.at",o.position.at.x+" top");o.set("position.my",o.position.my.x+" bottom");o.set("position.adjust.method","shift none")}if(a.settings.titleClasses){t(o.elements.titlebar).addClass(a.settings.titleClasses)}if(a.settings.contentClasses){t(o.elements.content).addClass(a.settings.contentClasses)}if(g){t(o.elements.titlebar).addClass("hidden");t(o.elements.content).addClass("tooltip-inner")}else{t(o.elements.titlebar).addClass("popover-header");t(o.elements.tooltip).find(".qtip-close").addClass("close").find(".ui-icon").removeClass("ui-icon ui-icon-close");t(o.elements.content).addClass("popover-body")}a.element.triggerHandler("cbtooltip.render",[a,e,o]);t(o.elements.content).find('.cbTooltip,[data-hascbtooltip="true"]').each((function(){t(this).cbtooltip()}));if(u){t(o.elements.content).on("click",(function(){if(h){o.toggle(false)}else{setTimeout((function(){o.toggle(false)}),100)}}))}l.call(n,a,o);if(o.elements.overlay){if(a.settings.overlayClasses){o.elements.overlay.addClass(a.settings.overlayClasses)}t(document).off("keydown.qtip-modal");o.elements.overlay.off("click.qtip-modal");o.elements.overlay.on("click",(function(t){o.toggle(false)}))}t(o.elements.content).on("click",".cbTooltipClose",(function(t){t.preventDefault();o.toggle(false)}))},show:function(e,o){if(u){a.element.attr("aria-expanded",true)}if(r){if(o.options.position.adjust.scroll){t("body").addClass("cbTooltipModalOpen")}}a.element.triggerHandler("cbtooltip.show",[a,e,o]);if(a.settings.closeClasses){t(o.elements.target).removeClass(a.settings.closeClasses)}if(a.settings.openClasses){t(o.elements.target).addClass(a.settings.openClasses)}},hide:function(e,o){if(u){a.element.attr("aria-expanded",false)}a.element.triggerHandler("cbtooltip.hide",[a,e,o]);if(a.settings.openClasses){t(o.elements.target).removeClass(a.settings.openClasses)}if(a.settings.closeClasses){t(o.elements.target).addClass(a.settings.closeClasses)}if(b&&b.length){m.append(b)}},toggle:function(t,e){a.element.triggerHandler("cbtooltip.toggle",[a,t,e])},visible:function(e,o){if(r){t(document).on("keydown",a.escapeHandler);s.call(n,a,o)}else if(a.settings.overlay){a.overlay.insertBefore(o.elements.tooltip).css({zIndex:o.elements.tooltip.css("zIndex")-1,cursor:"default"})}a.element.triggerHandler("cbtooltip.visible",[a,e,o])},hidden:function(e,o){if(r){t(document).off("keydown",a.escapeHandler);if(o.options.position.adjust.scroll){t("body").removeClass("cbTooltipModalOpen")}}if(!r&&a.settings.overlay){a.overlay.remove()}a.element.triggerHandler("cbtooltip.hidden",[a,e,o]);if(d){if(!a.element.data("cbtooltip")){if(o.elements.overlay){o.elements.overlay.remove()}if(o.elements.tooltip){o.elements.tooltip.remove()}}else{a.element.cbtooltip("destroy");a.element.remove()}}else{if(!a.settings.keepAlive){if(!a.element.data("cbtooltip")){if(o.elements.overlay){o.elements.overlay.remove()}if(o.elements.tooltip){o.elements.tooltip.remove()}}else{a.options.id=o.get("id");a.element.cbtooltip("destroy");a.element.cbtooltip(a.options)}}}},move:function(t,e){l.call(n,a,e);if(r){s.call(n,a,e)}a.element.triggerHandler("cbtooltip.move",[a,t,e])},focus:function(t,e){if(e.elements.overlay){var o=e.elements.overlay.css("zIndex");var i=e.elements.tooltip.css("zIndex");if(o>i){e.elements.overlay.css({zIndex:i-1})}}a.element.triggerHandler("cbtooltip.focus",[a,t,e])},blur:function(t,e){a.element.triggerHandler("cbtooltip.blur",[a,t,e])}}});if(r||d){a.element.on("destroy.cbtooltip",(function(){a.element.cbtooltip("destroy")}))}else{a.element.on("remove.cbtooltip destroy.cbtooltip",(function(){a.element.cbtooltip("destroy")}))}a.element.on("rebind.cbtooltip",(function(){a.element.cbtooltip("rebind")}));a.element.on("modified.cbtooltip",(function(e,o,i,s){if(o!=i){var l=["tooltip-target","title-target","open-target","close-target","position-target"];t.each(l,(function(t,e){var s=a.element.attr("data-cbtooltip-"+e);if(typeof s!="undefined"){a.element.attr("data-cbtooltip-"+e,s.replace(o,i))}var l=a.element.data("cbtooltip-"+e);if(typeof l!="undefined"){a.element.data("cbtooltip-"+e,l.replace(o,i))}}));a.element.cbtooltip("rebind")}}));a.element.on("cloned.cbtooltip",(function(){t(this).off(".cbtooltip");var e=t(this).data("qtip")._id;t(this).removeData("cbtooltip");t(this).removeData("hasqtip");t(this).removeData("qtip");t(this).removeAttr("data-hasqtip");t(this).off("."+e);t(this).cbtooltip(a.options)}));a.element.triggerHandler("cbtooltip.init.after",[a]);a.element.data("cbtooltip",a);e.push(a)}))},get:function(e){var o=t(this).data("cbtooltip");if(!o){return null}return o.tooltip.qtip("api").get(e)},set:function(e,o){var i=t(this).data("cbtooltip");if(!i){return this}i.tooltip.qtip("api").set(e,o);return this},toggle:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").toggle();return this},show:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").toggle(true);return this},hide:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").toggle(false);return this},enable:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").disable(false);e.element.triggerHandler("cbtooltip.enable",[e]);return this},disable:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").disable(true);e.element.triggerHandler("cbtooltip.disable",[e]);return this},reposition:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").reposition();return this},focus:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").focus();return this},blur:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").blur();return this},rebind:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.element.cbtooltip("destroy");e.element.cbtooltip(e.options);return this},destroy:function(){var o=t(this).data("cbtooltip");if(!o){return this}o.tooltip.qtip("api").destroy(true);o.element.off(".cbtooltip");t.each(e,(function(t,i){if(i.element==o.element){e.splice(t,1);return false}return true}));o.element.removeData("cbtooltip");o.element.triggerHandler("cbtooltip.destroyed",[o]);return this},instances:function(){return e}};function i(e,o){if(!o){return e.element}if(typeof o=="object"&&o.jquery){return o}else if(typeof o!="string"){return e.element}if(o.lastIndexOf("~ ",0)===0||o.lastIndexOf("+ ",0)===0||o.lastIndexOf("> ",0)===0||o.lastIndexOf(":parent ",0)===0||o.lastIndexOf(" ",0)===0){let i=e.element.find(o.trim());if(i&&i.is("template")){i=t(i.html())}return i}let i=t(o);if(i&&i.is("template")){i=t(i.html())}return i}function s(t,e){if(e.elements.tooltip){e.elements.content.css("height","");e.elements.content.css("max-height","");var o=e.elements.tooltip.height();if(o){if(e.elements.titlebar){e.elements.titlebar.css("height","");e.elements.titlebar.css("max-height","");var i=e.elements.titlebar.outerHeight(true);if(i){e.elements.titlebar.css("height","100%");e.elements.titlebar.css("max-height",i);if(e.elements.content){e.elements.content.css("height","100%");e.elements.content.css("max-height",o-i)}}}else if(e.elements.content){e.elements.content.css("height","100%");e.elements.content.css("max-height",o)}}}}function l(e,o){if(o.elements.tooltip&&(!e.settings.width||typeof e.settings.width==="number")){var i=t(window).width()-15;var s=o.elements.tooltip.width();if(s>i){o.elements.tooltip.css("max-width",i)}else if(s+15<i){o.elements.tooltip.css("max-width","")}}}t.cbconfirm=function(e,i){var s=t.Deferred();var l=t("<div />").appendTo("body");l.data("cbtooltip-tooltip",e);l.data("cbtooltip-dialog",true);l.data("cbtooltip-button-hide",true);l.data("cbtooltip-width",false);l.data("cbtooltip-overlay",true);l.on("cbtooltip.render",(function(e,o,i,l){t(l.elements.content).on("click",".cbTooltipButtonYes",(function(t){s.resolve("yes")}))})).on("cbtooltip.hidden",(function(t,e,o,i){if(s.state()!="resolved"){s.reject("no")}}));var n=o.init.apply(l,[i]);var a=n.data("cbtooltip");if(a&&(a.settings.buttonYes||a.settings.buttonNo)){e+='<div class="text-right mt-2 cbTooltipButtons">'+(a.settings.buttonYes?'<button class="btn btn-sm btn-primary cbTooltipButtonYes cbTooltipClose">'+a.settings.buttonYes+"</button>":"")+(a.settings.buttonNo?' <button class="btn btn-sm btn-secondary cbTooltipButtonNo cbTooltipClose">'+a.settings.buttonNo+"</button>":"")+"</div>";n.cbtooltip("set","content.text",e)}return s.promise()};t.cbprompt=function(e,i){var s=t.Deferred();var l=t("<div />").appendTo("body");l.data("cbtooltip-tooltip",e);l.data("cbtooltip-dialog",true);l.data("cbtooltip-button-hide",true);l.data("cbtooltip-width",false);l.on("cbtooltip.hidden",(function(t,e,o,i){s.resolve("yes")}));var n=o.init.apply(l,[i]);var a=n.data("cbtooltip");if(a&&a.settings.buttonYes){e+='<div class="text-right mt-2 cbTooltipButtons">'+'<button class="btn btn-sm btn-primary cbTooltipButtonYes cbTooltipClose">'+a.settings.buttonYes+"</button>"+"</div>";n.cbtooltip("set","content.text",e)}return s.promise()};t.cbdialog=function(e,i){var s=t("<div />").appendTo("body");s.data("cbtooltip-tooltip",e);s.data("cbtooltip-dialog",true);s.data("cbtooltip-width",false);return o.init.apply(s,[i])};t.cbmodal=function(e,i){var s=t("<div />").appendTo("body");s.data("cbtooltip-tooltip",e);s.data("cbtooltip-modal",true);s.data("cbtooltip-dialog",true);s.data("cbtooltip-width",false);return o.init.apply(s,[i])};t.fn.cbtooltip=function(t){if(o[t]){return o[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return o.init.apply(this,arguments)}return this};t.fn.cbtooltip.dataMap={id:"cbtooltip-id",tooltip:"cbtooltip-tooltip",tooltipTarget:"cbtooltip-tooltip-target",title:"cbtooltip-title",titleTarget:"cbtooltip-title-target",openReady:"cbtooltip-open-ready",openEvent:"cbtooltip-open-event",openTarget:"cbtooltip-open-target",openClasses:"cbtooltip-open-classes",openSolo:"cbtooltip-open-solo",openDelay:"cbtooltip-open-delay",openEffect:"cbtooltip-open-effect",closeEvent:"cbtooltip-close-event",closeTarget:"cbtooltip-close-target",closeClasses:"cbtooltip-close-classes",closeFixed:"cbtooltip-close-fixed",closeDelay:"cbtooltip-close-delay",closeDistance:"cbtooltip-close-distance",closeLeave:"cbtooltip-close-leave",closeInactive:"cbtooltip-close-inactive",closeEffect:"cbtooltip-close-effect",buttonHide:"cbtooltip-button-hide",buttonClose:"cbtooltip-button-close",buttonYes:"cbtooltip-button-yes",buttonNo:"cbtooltip-button-no",width:"cbtooltip-width",height:"cbtooltip-height",modal:"cbtooltip-modal",dialog:"cbtooltip-dialog",menu:"cbtooltip-menu",simple:"cbtooltip-simple",clone:"cbtooltip-clone",classes:"cbtooltip-classes",titleClasses:"cbtooltip-title-classes",contentClasses:"cbtooltip-content-classes",overlayClasses:"cbtooltip-overlay-classes",container:"cbtooltip-container",viewport:"cbtooltip-viewport",positionMy:"cbtooltip-position-my",positionAt:"cbtooltip-position-at",positionTarget:"cbtooltip-position-target",positionEffect:"cbtooltip-position-effect",adjustX:"cbtooltip-adjust-x",adjustY:"cbtooltip-adjust-y",adjustScroll:"cbtooltip-adjust-scroll",adjustResize:"cbtooltip-adjust-resize",adjustMethod:"cbtooltip-adjust-method",tipHide:"cbtooltip-tip-hide",tipWidth:"cbtooltip-tip-width",tipHeight:"cbtooltip-tip-height",tipOffset:"cbtooltip-tip-offset",keepAlive:"cbtooltip-keep-alive",overlay:"cbtooltip-overlay"};t.fn.cbtooltip.defaults={init:true,useData:true,id:null,tooltip:null,tooltipTarget:null,title:null,titleTarget:null,openReady:null,openEvent:null,openTarget:null,openClasses:null,openSolo:null,openDelay:null,openEffect:null,closeEvent:null,closeTarget:null,closeClasses:null,closeFixed:null,closeDelay:null,closeDistance:null,closeLeave:null,closeInactive:null,closeEffect:null,buttonHide:null,buttonClose:null,buttonYes:null,buttonNo:null,width:null,height:null,modal:null,dialog:null,menu:null,simple:null,clone:null,classes:null,titleClasses:null,contentClasses:null,overlayClasses:null,container:null,viewport:null,positionMy:null,positionAt:null,positionTarget:null,positionEffect:null,adjustX:null,adjustY:null,adjustScroll:null,adjustResize:null,adjustMethod:null,tipHide:null,tipWidth:null,tipHeight:null,tipOffset:null,keepAlive:null,overlay:null}})(jQuery);