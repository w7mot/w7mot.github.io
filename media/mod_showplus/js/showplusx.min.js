(function(){/*
 showplusx: a performance-optimized slideshow engine
 @author  Levente Hunyadi
 @version 1.0
 @remarks Copyright (C) 2009-2022 Levente Hunyadi
 @remarks Licensed under GNU/GPLv3, see https://www.gnu.org/licenses/gpl-3.0.html
 @see     https://hunyadi.info.hu/projects/showplusx
*/
'use strict';function h(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function q(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var t=q(this);function u(a,b){if(b)a:{var c=t;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&n(c,a,{configurable:!0,writable:!0,value:b})}}
u("Symbol",function(a){function b(e){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(e||"")+"_"+d++,e)}function c(e,f){this.a=e;n(this,"description",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.a};var d=0;return b});
u("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=t[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&n(d.prototype,a,{configurable:!0,writable:!0,value:function(){return v(h(this))}})}return a});function v(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function w(a,b){a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}u("Array.prototype.keys",function(a){return a?a:function(){return w(this,function(b){return b})}});
var z={src:"",thumbsrc:"",caption:"hidden",title:"",href:"",target:"_blank"},A={items:[],order:"normal",effects:function(a){var b=[];Object.keys(a).forEach(function(c){a[c].forEach(function(d){b.push(c+"-"+d)})});return b}({fade:["fade"],fold:["left","right"],push:["left","right","top","bottom"],scan:["left","right","up","down"],circle:["circle"],kenburns:["topleft","topright","bottomright","bottomleft"]}),defaults:z,navigation:"hidden",dir:"ltr"};
function C(a,b){a=a||{};for(var c in JSON.parse(JSON.stringify(b)))a[c]=a[c]||b[c];return a}function D(a,b){a=a.classList;b?a.remove("showplusx-hidden"):a.add("showplusx-hidden")}function E(a,b,c){var d=a.classList;c.forEach(function(e){d.remove("showplusx-animation-"+e)});b.forEach(function(e){d.add("showplusx-animation-"+e)})}function F(){}F.prototype.url=null;F.prototype.width=0;F.prototype.height=0;
function G(a,b){this.a=C(b,A);this.a.defaults=C(this.a.defaults,z);var c=this;this.cache={};this.c=0;b=document.createElement("div");b.classList.add("showplusx-slideshow");b.dir=this.a.dir;this.i=b;var d=document.createElement("div");d.classList.add("showplusx-viewport");this.f=d;var e=document.createElement("div");e.classList.add("showplusx-caption");e.addEventListener("animationend",function(){E(e,[],["in"])});this.j=e;var f=document.createElement("div");f.classList.add("showplusx-navigation");
f.classList.add("showplusx-"+this.a.navigation);var g=this.a.items,l=g.length;0<l&&(g.forEach(function(m,B){var k=document.createElement("a"),p=k.classList;p.add("showplusx-item");p.add("showplusx-hidden");k.addEventListener("animationend",function(){k.style.removeProperty("background-position");if(p.contains("showplusx-animation-in"))E(k,["show"],["in"]);else if(p.contains("showplusx-animation-show")){if(E(k,["out"],["show"]),k.style.setProperty("background-position",window.getComputedStyle(k).getPropertyValue("background-position")),
D(e,!1),p.contains("showplusx-current"))switch(c.a.order){case "normal":c.next();break;case "reverse":c.g();break;case "random":var x=Math.floor(Math.random()*(l-1-1+1));c.b(x>=B?x+1:x)}}else p.contains("showplusx-animation-out")&&(E(k,[],["out"]),D(k,!1))},!1);d.appendChild(k);var y=document.createElement("span");y.style.backgroundImage='url("'+(m.thumbsrc||m.src).replace(/[\n\r\f]/g,"").replace(/(["\\])/g,"\\$1")+'")';y.addEventListener("click",function(){c.b(B)},!1);f.appendChild(y)}),this.h());
b.appendChild(d);g=document.createElement("div");g.classList.add("showplusx-previous");g.addEventListener("click",function(){c.g()},!1);var r=document.createElement("div");r.classList.add("showplusx-next");r.addEventListener("click",function(){c.next()},!1);b.appendChild(g);b.appendChild(r);b.appendChild(e);b.appendChild(f);a.appendChild(b)}window.ShowPlusXSlideshow=G;G.prototype.m=function(){var a=this.i;a.parentNode.removeChild(a);this.i=null};G.prototype.destroy=G.prototype.m;
function H(a){var b=a.a.items;a=a.c-1;0>a&&(a=b.length-1);return a}function I(a){var b=a.c+1;b>=a.a.items.length&&(b=0);return b}G.prototype.h=function(){this.b(0)};G.prototype.first=G.prototype.h;G.prototype.g=function(){this.b(H(this))};G.prototype.previous=G.prototype.g;G.prototype.next=function(){this.b(I(this))};G.prototype.next=G.prototype.next;G.prototype.b=function(a){this.f.children[this.c].classList.remove("showplusx-current");this.load(a,this.l.bind(this,a))};G.prototype.display=G.prototype.b;
G.prototype.l=function(a){function b(l,r){var m=l.substr(0,l.indexOf("-"));r?(m&&c.add("showplusx-"+m),c.add("showplusx-"+l)):(m&&c.remove("showplusx-"+m),c.remove("showplusx-"+l))}this.load(H(this));this.load(I(this));var c=this.f.classList,d=this.a.effects;d.forEach(function(l){b(l,!1)});(d=d[Math.floor(Math.random()*(d.length-1+1))])&&b(d,!0);d=this.f.children;var e=d[a],f=C(this.a.items[a],this.a.defaults),g=this.cache[f.src].url;f.href?e.href=f.href:e.removeAttribute("href");f.target?e.target=
f.target:e.removeAttribute("target");e.style.setProperty("background-image",'url("'+g+'")');g=this.j;g.innerHTML=f.title;g.classList.remove("showplusx-caption-top");g.classList.remove("showplusx-caption-bottom");g.classList.add("showplusx-caption-"+f.caption);for(f=0;f<d.length;++f)f!=a&&f!=this.c&&D(d[f],!1);this.c=a;e.classList.add("showplusx-current");E(e,["in"],["out","show"]);E(g,["in"],[]);D(e,!0);D(g,!0)};
G.prototype.load=function(a,b){var c=b||new Function,d=this.a.items[a].src;if(this.cache.hasOwnProperty(d))c(this.cache[d]);else{var e=this,f=new F,g=document.createElement("img");g.addEventListener("load",function(){f.url=g.src;f.width=g.width;f.height=g.height;e.cache[d]=f;c(f)},!1);g.addEventListener("error",function(){e.cache[d]=f;c(f)},!1);g.src=d}};}).call(this);
